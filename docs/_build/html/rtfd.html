

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuration of the production servers &mdash; Citrix SDK 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Citrix SDK 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Citrix SDK
          

          
            
            <img src="_static/ctx.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">StoreFront SDK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sf/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="sf/sample_code.html">Sample Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="sf/api_reference.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Desktop Delivery Controller SDK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ddc/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="ddc/sample_code.html">Sample Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="ddc/api_reference.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Desktop Director SDK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dir/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="dir/sample_code.html">Sample Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="dir/api_reference.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">HTML5 Receiver SDK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="h5/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="h5/sample_code.html">Sample Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="h5/api_reference.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">XenServer SDK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xs/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="xs/sample_code.html">Sample Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="xs/api_reference.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Citrix SDK</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Configuration of the production servers</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/rtfd.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuration-of-the-production-servers">
<h1>Configuration of the production servers<a class="headerlink" href="#configuration-of-the-production-servers" title="Permalink to this headline">¶</a></h1>
<p>This document is to help people who are involved in the production instance of Read the Docs running on readthedocs.org. It contains implementation details and useful hints for the people handling operations of the servers.</p>
<div class="section" id="elastic-search-setup">
<h2>Elastic Search Setup<a class="headerlink" href="#elastic-search-setup" title="Permalink to this headline">¶</a></h2>
<p>You need to install the ICU plugin to make ES work:</p>
<div class="highlight-python"><div class="highlight"><pre># Use the correct path to the plugin executable that ships with ES.
/usr/share/elasticsearch/bin/plugin -install elasticsearch/elasticsearch-analysis-icu/2.3.0
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">search.indexes</span> <span class="kn">import</span> <span class="n">Index</span><span class="p">,</span> <span class="n">PageIndex</span><span class="p">,</span> <span class="n">ProjectIndex</span><span class="p">,</span> <span class="n">SectionIndex</span>

<span class="c"># Create the index.</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">()</span>
<span class="n">index_name</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">timestamped_index</span><span class="p">()</span>
<span class="n">index</span><span class="o">.</span><span class="n">create_index</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
<span class="n">index</span><span class="o">.</span><span class="n">update_aliases</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
<span class="c"># Update mapping</span>
<span class="n">proj</span> <span class="o">=</span> <span class="n">ProjectIndex</span><span class="p">()</span>
<span class="n">proj</span><span class="o">.</span><span class="n">put_mapping</span><span class="p">()</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">PageIndex</span><span class="p">()</span>
<span class="n">page</span><span class="o">.</span><span class="n">put_mapping</span><span class="p">()</span>
<span class="n">sec</span> <span class="o">=</span> <span class="n">SectionIndex</span><span class="p">()</span>
<span class="n">sec</span><span class="o">.</span><span class="n">put_mapping</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Citrix Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>